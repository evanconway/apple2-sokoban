0000 REM GAME START
0010 GR
0020 HOME
0040 DIM WA(8, 8) : REM DECLARE WORLD
0050 RESTORE
0060 GOSUB 1000
0070 GOSUB 2000
0080 END

1000 REM LOAD NEXT LEVEL
1010 FOR WY = 1 TO 8
1020 FOR WX = 1 TO 8
1030 READ CELL
1040 WA(WY, WX) = CELL
1050 NEXT WX
1060 NEXT WY
1070 RETURN

2000 REM RENDER WORLD
2010 WC = 1 : REM WALL COLOR
2020 FOR WY = 0 TO 9
2030 FOR WX = 0 TO 9
2040 IF WX = 0 OR WX = 9 OR WY = 0 OR WY = 9 THEN GOTO 3000
2050 REM BIT 0 = PLAYER, 1 = WALL, 2 = BOX, 3 = GOAL
2060 CELL = WA(WY, WX)
2070 COLOR = 5
2080 IF CELL = 8 THEN COLOR = 9 : REM GOAL COLOR
2090 IF CELL = 2 THEN COLOR = WC : REM WALL COLOR
2100 IF CELL = 4 THEN COLOR = 8 : REM BOX COLOR
2120 IF CELL = 1 THEN COLOR = 2 : REM PLAYER COLOR
2130 PLOT WX,WY * 2
2140 PLOT WX,WY * 2 + 1
2150 NEXT WX
2160 NEXT WY
2170 RETURN

3000 REM COLOR WALL BLOCK
3010 COLOR = WC
3020 GOTO 2130

60000 DATA 1,0,0,0,0,0,0,0
60010 DATA 0,0,2,2,2,2,2,0
60020 DATA 8,0,4,0,0,0,0,0
60030 DATA 0,0,0,0,0,0,0,0
60040 DATA 0,2,0,0,2,2,0,0
60050 DATA 0,2,0,4,0,0,0,8
60060 DATA 0,2,0,0,0,2,0,0
60070 DATA 0,0,0,0,0,2,2,0
